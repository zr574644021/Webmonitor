webpackJsonp([12],{524:function(t,a,e){var i=e(200)(e(542),e(573),null,null);t.exports=i.exports},542:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={data:function(){return{tableData:[],bufferData:[],httpMonitor:!1,message:"开始检测",timer:0,first_time:0,last_time:0,paging:{total:0,pageSize:15,page:1}}},methods:{handleCurrentChange:function(t){this.paging.page=t},handleMonitor:function(){"开始检测"===this.message?(this.httpMonitor=!0,this.message="停止检测",document.getElementById("monitor").style.background="red",this.getData(),this.timer=window.setInterval(this.getData,18e4)):(this.httpMonitor=!1,document.getElementById("monitor").style.background="#20a0ff",this.message="开始检测",window.clearInterval(this.timer))},getData:function(){var t=this;this.httpMonitor?this.$axios.get("/httpmonitor/now").then(function(a){if(7002===a.data.status)t.$message({message:"您未登录！",type:"error"}),t.$router.push({path:"/login"});else{var e=a.data.record;t.tableData=e,t.bufferData=e,t.paging.total=e.length;for(var i=0;i<e.length;i++)switch(e[i].Status){case"200 OK":t.tableData[i].imgPath="../../../../static/img/safe.png";break;case"403 Forbidden":t.tableData[i].imgPath="../../../../static/img/threaten.png";break;case"OutTime":t.tableData[i].imgPath="../../../../static/img/warning.png";break;default:t.tableData[i].imgPath="../../../../static/img/threaten.png"}}}):this.$axios.get("/httpmonitor/geturlall").then(function(a){if(7002===a.data.status)t.$message({message:"您未登录！",type:"error"}),t.$router.push({path:"/login"});else if(0===t.bufferData.length){var e=a.data.record;t.tableData=e,t.paging.total=e.length}else t.tableData=t.bufferData})}},created:function(){this.getData()}}},573:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"table"},[e("div",{staticClass:"crumbs"},[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",[e("i",{staticClass:"el-icon-menu"}),t._v(" 网页响应")]),t._v(" "),e("el-breadcrumb-item",[t._v("响应检测")])],1)],1),t._v(" "),e("div",{staticClass:"handle-box"},[e("el-button",{attrs:{id:"monitor",type:"primary"},on:{click:t.handleMonitor}},[t._v(t._s(t.message))])],1),t._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData.slice((t.paging.page-1)*t.paging.pageSize,t.paging.page*t.paging.pageSize),border:""}},[e("el-table-column",{attrs:{prop:"Id",label:"ID",width:"60"}}),t._v(" "),e("el-table-column",{attrs:{prop:"WebName",label:"网站名称",width:"140"}}),t._v(" "),e("el-table-column",{attrs:{prop:"Url",label:"网址"}}),t._v(" "),e("el-table-column",{attrs:{prop:"ResponseTime",label:"响应时间(ms)"}}),t._v(" "),e("el-table-column",{attrs:{prop:"Status",label:"返回信息"}}),t._v(" "),e("el-table-column",{attrs:{prop:"imgPath",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("img",{attrs:{src:t.row.imgPath}})]}}])})],1),t._v(" "),e("div",{staticClass:"pagination"},[e("el-pagination",{attrs:{layout:"total, prev, pager, next",total:t.paging.total,"page-size":t.paging.pageSize},on:{"current-change":t.handleCurrentChange}})],1)],1)},staticRenderFns:[]}}});